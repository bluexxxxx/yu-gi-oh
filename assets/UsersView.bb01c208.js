import{_ as U,W as B,r as $,e as A,F as s,G as a,H as e,I as r,J as u,K as d,bc as k,Z as m,$ as D,X as w,M as E,N as F,a0 as x,a1 as g,O as V}from"./index.8febffef.js";import{_ as M}from"./Space.4d477969.js";import{_ as z}from"./Pagination.f30d36ed.js";import{_ as G,a as H}from"./Table.dd7c4ce7.js";import{_ as J}from"./Button.f24863ad.js";import"./use-rtl.e5b22f42.js";import"./Input.8ee7b2b5.js";import"./Scrollbar.b7c6c77f.js";import"./toString.377beb2c.js";import"./delegate.d660cb22.js";import"./FadeInExpandTransition.3f79690b.js";import"./Popover.dd5619ce.js";import"./keep.76d496a2.js";import"./Tag.473a60a9.js";import"./upperFirst.201f51ad.js";const C=_=>(E("data-v-7ff40e7c"),_=_(),F(),_),K=C(()=>e("h1",null,"\u6703\u54E1\u7BA1\u7406",-1)),L={class:"container"},O={class:"usersbox"},P=C(()=>e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"\u4F7F\u7528\u8005"),e("th",null,"\u522A\u9664")])],-1)),T={key:0},W=V(" \u522A\u9664 "),X={key:1},Z=V(" \u522A\u9664 "),j={__name:"UsersView",setup(_){const i=B([]),o=$(1),l=5,f=A(()=>i.slice(o.value*l-l,o.value*l)),h=async(t,p)=>{try{await k.delete("/users/"+t),m.fire({icon:"success",title:"\u6210\u529F",text:"\u522A\u9664\u6210\u529F"}),i.splice(p,1)}catch(c){m.fire({icon:"error",title:"\u5931\u6557",text:c.isAxiosError?c.response.data.message:c.message})}};return(async()=>{try{const{data:t}=await k.get("/users/all");i.push(...t.result),console.log(i)}catch(t){console.log(t),m.fire({icon:"error",title:"\u5931\u6557",text:"\u7121\u6CD5\u53D6\u5F97\u6703\u54E1\u8CC7\u6599"})}})(),(t,p)=>{const c=G,v=J,I=H,S=M,b=z;return s(),a(d,null,[K,e("div",L,[e("div",O,[r(c),e("div",null,[r(S,{vertical:""},{default:u(()=>[r(I,{striped:""},{default:u(()=>[P,e("tbody",null,[(s(!0),a(d,null,D(w(f),(n,y)=>(s(),a(d,null,[w(f).length>0?(s(),a("tr",{key:n._id},[e("td",null,x(n._id),1),e("td",null,x(n.account),1),o.value===1?(s(),a("td",T,[r(v,{type:"error",onClick:N=>h(n._id,y),loading:t.loading},{default:u(()=>[W]),_:2},1032,["onClick","loading"])])):g("",!0),o.value>1?(s(),a("td",X,[r(v,{type:"error",onClick:N=>h(n._id,y+(o.value-1)*l),loading:t.loading},{default:u(()=>[Z]),_:2},1032,["onClick","loading"])])):g("",!0)])):g("",!0)],64))),256))])]),_:1})]),_:1})]),r(b,{page:o.value,"onUpdate:page":p[0]||(p[0]=n=>o.value=n),"page-count":Math.ceil(i.length/l)},null,8,["page","page-count"])])])],64)}}},ue=U(j,[["__scopeId","data-v-7ff40e7c"]]);export{ue as default};
