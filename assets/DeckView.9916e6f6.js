import{_ as V,W as k,r as y,e as M,F as i,G as l,H as t,I as m,J as c,K as w,Y as B,Z as C,L as N,$,X as F,a0 as _,a1 as v,M as L,N as P,a3 as U,P as z}from"./index.80358ef1.js";import{_ as E}from"./Pagination.a69dd533.js";import{_ as G}from"./Modal.9f36c151.js";import{_ as H}from"./Card.1f67282f.js";import"./use-rtl.70226d03.js";import"./Input.3d12805b.js";import"./Button.7047d261.js";import"./upperFirst.7bc97d1f.js";import"./toString.c94de223.js";import"./FadeInExpandTransition.c4a1be3c.js";import"./Scrollbar.0510afb6.js";import"./delegate.d660cb22.js";import"./Popover.7fb6dd5c.js";import"./keep.76d496a2.js";import"./Tag.ac9b94b2.js";const r=p=>(L("data-v-fbec4bec"),p=p(),P(),p),J={class:"container"},K=r(()=>t("h1",null,"\u5361\u7D44\u5C08\u6B04",-1)),W=["onClick"],X=["src"],Y={class:"deck_image"},Z=["src"],j=r(()=>t("h2",null,"\u89C0\u5FF5\u89E3\u6790",-1)),q={key:0},A=r(()=>t("h2",null,"\u904A\u73A9\u98A8\u683C",-1)),O={key:1},Q=r(()=>t("h2",null,"\u5176\u4ED6\u8CC7\u8A0A",-1)),R=r(()=>t("br",null,null,-1)),T={key:2},ee=["href"],te={__name:"DeckView",setup(p){const g=k([]),d=y(1),u=6,n=M(()=>g.slice(d.value*u-u,d.value*u)),e=k({_id:"",name:"",image:[],description:"",playstyle:"",decklogic:"",article:"",idx:-1,submitting:!1,showModal:!1}),b=a=>{const o=n.value.findIndex(f=>f._id===a);h.value=!0,e._id=a,o>-1&&(e.name=n.value[o].name,e.description=n.value[o].description,e.playstyle=n.value[o].playstyle,e.decklogic=n.value[o].decklogic,e.image=n.value[o].image,e.article=n.value[o].article),e.idx=o,e.showModal=!0,e.submitting=!1},h=y(!1);return(async()=>{try{const{data:a}=await B.get("/decks");g.push(...a.result)}catch(a){console.log(a),C.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}})(),(a,o)=>{const f=H,x=z,D=N,I=E,S=G;return i(),l(w,null,[t("div",J,[K,m(D,{cols:"1 s:2 l:3",responsive:"screen",class:"mg-t"},{default:c(()=>[(i(!0),l(w,null,$(F(n),s=>(i(),U(x,{key:s._id},{default:c(()=>[t("a",{onClick:ne=>b(s._id)},[m(f,null,{cover:c(()=>[t("img",{src:s.image},null,8,X)]),default:c(()=>[t("h1",null,_(s.name),1)]),_:2},1024)],8,W)]),_:2},1024))),128))]),_:1}),m(I,{page:d.value,"onUpdate:page":o[0]||(o[0]=s=>d.value=s),"page-count":Math.ceil(g.length/u)},null,8,["page","page-count"])]),m(S,{class:"show-article",show:h.value,"onUpdate:show":o[1]||(o[1]=s=>h.value=s),preset:"card",style:{width:"80%",background:"black",color:"white"}},{default:c(()=>[t("div",Y,[t("img",{src:e.image},null,8,Z)]),t("h1",null,_(e.name),1),j,t("p",null,_(e.description),1),e.playstyle!=="undefined"?(i(),l("div",q,[A,t("p",null,_(e.playstyle),1)])):v("",!0),e.decklogic!=="undefined"?(i(),l("div",O,[Q,t("p",null,_(e.decklogic),1)])):v("",!0),R,e.article.length>0?(i(),l("div",T,[t("a",{href:e.article,target:"_blank"},"\u6587\u7AE0\u4F86\u6E90",8,ee)])):v("",!0)]),_:1},8,["show"])],64)}}},ke=V(te,[["__scopeId","data-v-fbec4bec"]]);export{ke as default};
