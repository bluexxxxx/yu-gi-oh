import{_ as V,X as k,r as y,e as M,F as i,G as l,H as t,I as m,J as c,K as w,Z as B,$ as C,M as N,a0 as $,Y as F,a1 as _,a2 as f,N as U,O as z,a4 as E,Q as G}from"./index.b0f244cf.js";import{_ as H}from"./Pagination.c7ea017b.js";import{_ as J}from"./Modal.87d4e63c.js";import{_ as K}from"./Card.377aad11.js";import"./use-rtl.b4bc573f.js";import"./Input.0beab7b8.js";import"./Button.3738d0f0.js";import"./upperFirst.c23dc090.js";import"./toString.7ccdd6a1.js";import"./FadeInExpandTransition.ead612b7.js";import"./Scrollbar.cca14f71.js";import"./delegate.d660cb22.js";import"./Popover.2a88e9f2.js";import"./keep.76d496a2.js";import"./Tag.2898e145.js";const r=p=>(U("data-v-7883e43a"),p=p(),z(),p),L={class:"container"},O=r(()=>t("h1",null,"\u5361\u7D44\u5C08\u6B04",-1)),P=["onClick"],Q=["src"],X={class:"deck_image"},Y=["src"],Z=r(()=>t("h2",null,"\u89C0\u5FF5\u89E3\u6790",-1)),j={key:0},q=r(()=>t("h2",null,"\u904A\u73A9\u98A8\u683C",-1)),A={key:1},R=r(()=>t("h2",null,"\u5176\u4ED6\u8CC7\u8A0A",-1)),T=r(()=>t("br",null,null,-1)),W={key:2},ee=["href"],te={__name:"DeckView",setup(p){const g=k([]),d=y(1),u=6,n=M(()=>g.slice(d.value*u-u,d.value*u)),e=k({_id:"",name:"",image:[],description:"",playstyle:"",decklogic:"",article:"",idx:-1,submitting:!1,showModal:!1}),x=a=>{const o=n.value.findIndex(v=>v._id===a);h.value=!0,e._id=a,o>-1&&(e.name=n.value[o].name,e.description=n.value[o].description,e.playstyle=n.value[o].playstyle,e.decklogic=n.value[o].decklogic,e.image=n.value[o].image,e.article=n.value[o].article),e.idx=o,e.showModal=!0,e.submitting=!1},h=y(!1);return(async()=>{try{const{data:a}=await B.get("/decks");g.push(...a.result)}catch(a){console.log(a),C.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}})(),(a,o)=>{const v=K,b=G,D=N,I=H,S=J;return i(),l(w,null,[t("div",L,[O,m(D,{cols:"1 s:2 l:3",responsive:"screen",class:"mg-t"},{default:c(()=>[(i(!0),l(w,null,$(F(n),s=>(i(),E(b,{key:s._id},{default:c(()=>[t("a",{onClick:ne=>x(s._id)},[m(v,null,{cover:c(()=>[t("img",{src:s.image},null,8,Q)]),default:c(()=>[t("h1",null,_(s.name),1)]),_:2},1024)],8,P)]),_:2},1024))),128))]),_:1}),m(I,{page:d.value,"onUpdate:page":o[0]||(o[0]=s=>d.value=s),"page-count":Math.ceil(g.length/u)},null,8,["page","page-count"])]),m(S,{class:"show-article",show:h.value,"onUpdate:show":o[1]||(o[1]=s=>h.value=s),preset:"card",style:{width:"80%",background:"black",color:"white"}},{default:c(()=>[t("div",X,[t("img",{src:e.image},null,8,Y)]),t("h1",null,_(e.name),1),Z,t("p",null,_(e.description),1),e.playstyle!=="undefined"?(i(),l("div",j,[q,t("p",null,_(e.playstyle),1)])):f("",!0),e.decklogic!=="undefined"?(i(),l("div",A,[R,t("p",null,_(e.decklogic),1)])):f("",!0),T,e.article.length>0?(i(),l("div",W,[t("a",{href:e.article,target:"_blank"},"\u6587\u7AE0\u4F86\u6E90",8,ee)])):f("",!0)]),_:1},8,["show"])],64)}}},ke=V(te,[["__scopeId","data-v-7883e43a"]]);export{ke as default};
