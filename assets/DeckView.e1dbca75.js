import{_ as V,W as f,r as k,e as M,F as l,G as u,H as t,I as m,J as i,K as y,Y as B,Z as C,L as N,$,X as F,a0 as c,a1 as w,M as L,N as P,a3 as U,P as z}from"./index.d42ac355.js";import{_ as E}from"./Pagination.95b619fb.js";import{_ as G}from"./Modal.eff54a34.js";import{_ as H}from"./Card.7a145e69.js";import"./use-rtl.00438541.js";import"./Input.9d04bc9e.js";import"./Button.922a0d0b.js";import"./upperFirst.7e617fb0.js";import"./toString.a33a05ed.js";import"./FadeInExpandTransition.c7eee716.js";import"./Scrollbar.1c3f08b5.js";import"./delegate.d660cb22.js";import"./Popover.7cf05d2f.js";import"./keep.76d496a2.js";import"./Tag.35e82907.js";const _=r=>(L("data-v-97d98ded"),r=r(),P(),r),J={class:"container"},K=_(()=>t("h1",null,"\u5361\u7D44\u5C08\u6B04",-1)),W=["onClick"],X=["src"],Y={class:"deck_image"},Z=["src"],j=_(()=>t("h2",null,"\u89C0\u5FF5\u89E3\u6790",-1)),q={key:0},A=_(()=>t("h2",null,"\u904A\u73A9\u98A8\u683C",-1)),O={key:1},Q=_(()=>t("h2",null,"\u5176\u4ED6\u8CC7\u8A0A",-1)),R=_(()=>t("br",null,null,-1)),T=["href"],ee={__name:"DeckView",setup(r){const g=f([]),d=k(1),p=6,n=M(()=>g.slice(d.value*p-p,d.value*p)),e=f({_id:"",name:"",image:[],description:"",playstyle:"",decklogic:"",article:"",idx:-1,submitting:!1,showModal:!1}),x=a=>{const o=n.value.findIndex(v=>v._id===a);h.value=!0,e._id=a,o>-1&&(e.name=n.value[o].name,e.description=n.value[o].description,e.playstyle=n.value[o].playstyle,e.decklogic=n.value[o].decklogic,e.image=n.value[o].image,e.article=n.value[o].article),e.idx=o,e.showModal=!0,e.submitting=!1},h=k(!1);return(async()=>{try{const{data:a}=await B.get("/decks");g.push(...a.result)}catch(a){console.log(a),C.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}})(),(a,o)=>{const v=H,b=z,D=N,I=E,S=G;return l(),u(y,null,[t("div",J,[K,m(D,{cols:"1 s:2 l:3",responsive:"screen",class:"mg-t"},{default:i(()=>[(l(!0),u(y,null,$(F(n),s=>(l(),U(b,{key:s._id},{default:i(()=>[t("a",{onClick:oe=>x(s._id)},[m(v,null,{cover:i(()=>[t("img",{src:s.image},null,8,X)]),default:i(()=>[t("h1",null,c(s.name),1)]),_:2},1024)],8,W)]),_:2},1024))),128))]),_:1}),m(I,{page:d.value,"onUpdate:page":o[0]||(o[0]=s=>d.value=s),"page-count":Math.ceil(g.length/p)},null,8,["page","page-count"])]),m(S,{class:"show-article",show:h.value,"onUpdate:show":o[1]||(o[1]=s=>h.value=s),preset:"card",style:{width:"80%",background:"black",color:"white"}},{default:i(()=>[t("div",Y,[t("img",{src:e.image},null,8,Z)]),t("h1",null,c(e.name),1),j,t("p",null,c(e.description),1),e.playstyle!=="undefined"?(l(),u("div",q,[A,t("p",null,c(e.playstyle),1)])):w("",!0),e.decklogic!=="undefined"?(l(),u("div",O,[Q,t("p",null,c(e.decklogic),1)])):w("",!0),R,t("a",{href:e.article,target:"_blank"},"\u6587\u7AE0\u4F86\u6E90",8,T)]),_:1},8,["show"])],64)}}},fe=V(ee,[["__scopeId","data-v-97d98ded"]]);export{fe as default};
