import{_ as S,W as k,r as N,e as U,F as p,G as u,H as t,I as s,J as d,K as m,bc as h,Z as g,$ as C,X as f,M as B,N as A,a0 as v,a1 as D,O as E}from"./index.23b0ca4b.js";import{_ as F}from"./Space.b3dc3fef.js";import{_ as M}from"./Pagination.a76b6872.js";import{_ as $,a as z}from"./Table.1da3a8a5.js";import{_ as G}from"./Button.9d89bb21.js";import"./use-rtl.c1e91907.js";import"./Input.296a4134.js";import"./Scrollbar.0bb5a8ce.js";import"./toString.0179cbee.js";import"./delegate.d660cb22.js";import"./FadeInExpandTransition.76abbc7b.js";import"./Popover.7437eb70.js";import"./keep.76d496a2.js";import"./Tag.528c576f.js";import"./upperFirst.0a0eecce.js";const x=a=>(B("data-v-2b94529c"),a=a(),A(),a),H=x(()=>t("h1",null,"\u6703\u54E1\u7BA1\u7406",-1)),J={class:"container"},K={class:"usersbox"},L=x(()=>t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"\u4F7F\u7528\u8005"),t("th",null,"\u522A\u9664")])],-1)),O=E("\u522A\u9664"),P={__name:"UsersView",setup(a){const r=k([]),c=N(1),i=5,l=U(()=>r.slice(c.value*i-i,c.value*i)),y=async e=>{const _=l.value.findIndex(o=>o._id===e);try{await h.delete("/users/"+e),g.fire({icon:"success",title:"\u6210\u529F",text:"\u522A\u9664\u6210\u529F"}),l.value.splice(_,1)}catch(o){g.fire({icon:"error",title:"\u5931\u6557",text:o.isAxiosError?o.response.data.message:o.message})}};return(async()=>{try{const{data:e}=await h.get("/users/all");r.push(...e.result),console.log(r)}catch(e){console.log(e),g.fire({icon:"error",title:"\u5931\u6557",text:"\u7121\u6CD5\u53D6\u5F97\u6703\u54E1\u8CC7\u6599"})}})(),(e,_)=>{const o=$,b=G,w=z,I=F,V=M;return p(),u(m,null,[H,t("div",J,[t("div",K,[s(o),t("div",null,[s(I,{vertical:""},{default:d(()=>[s(w,{striped:""},{default:d(()=>[L,t("tbody",null,[(p(!0),u(m,null,C(f(l),n=>(p(),u(m,null,[f(l).length>0?(p(),u("tr",{key:n._id},[t("td",null,v(n._id),1),t("td",null,v(n.account),1),t("td",null,[s(b,{type:"error",onClick:W=>y(n._id)},{default:d(()=>[O]),_:2},1032,["onClick"])])])):D("",!0)],64))),256))])]),_:1})]),_:1})]),s(V,{page:c.value,"onUpdate:page":_[0]||(_[0]=n=>c.value=n),"page-count":Math.ceil(r.length/i)},null,8,["page","page-count"])])])],64)}}},it=S(P,[["__scopeId","data-v-2b94529c"]]);export{it as default};
