import{d as me,ar as Ue,as as Fe,l as h,at as Ne,j as O,m as Q,k,x as we,u as Ve,r as u,e as d,w as Ae,f as Ge,g as Ke,ah as qe,y as Je,h as v,V as fe,K as Qe,T as he,ak as Ze}from"./index.ecaef8db.js";import{u as et}from"./use-rtl.ee97bda6.js";import{o as X,a as _}from"./delegate.64eb1156.js";function dt(l){return Object.keys(l)}const ve=me({render(){var l,a;return(a=(l=this.$slots).default)===null||a===void 0?void 0:a.call(l)}}),tt=(typeof window>"u"?!1:/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;function nt(){return tt}function lt(l){const a={isDeactivated:!1};let s=!1;return Ue(()=>{if(a.isDeactivated=!1,!s){s=!0;return}l()}),Fe(()=>{a.isDeactivated=!0,s||(s=!0)}),a}const{cubicBezierEaseInOut:be}=Ne;function ot({name:l="fade-in",enterDuration:a="0.2s",leaveDuration:s="0.2s",enterCubicBezier:z=be,leaveCubicBezier:r=be}={}){return[h(`&.${l}-transition-enter-active`,{transition:`all ${a} ${z}!important`}),h(`&.${l}-transition-leave-active`,{transition:`all ${s} ${r}!important`}),h(`&.${l}-transition-enter-from, &.${l}-transition-leave-to`,{opacity:0}),h(`&.${l}-transition-leave-from, &.${l}-transition-enter-to`,{opacity:1})]}const rt=O("scrollbar",`
 overflow: hidden;
 position: relative;
 z-index: auto;
 height: 100%;
 width: 100%;
`,[h(">",[O("scrollbar-container",`
 width: 100%;
 overflow: scroll;
 height: 100%;
 max-height: inherit;
 scrollbar-width: none;
 `,[h("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),h(">",[O("scrollbar-content",`
 box-sizing: border-box;
 min-width: 100%;
 `)])])]),h(">, +",[O("scrollbar-rail",`
 position: absolute;
 pointer-events: none;
 user-select: none;
 -webkit-user-select: none;
 `,[Q("horizontal",`
 left: 2px;
 right: 2px;
 bottom: 4px;
 height: var(--n-scrollbar-height);
 `,[h(">",[k("scrollbar",`
 height: var(--n-scrollbar-height);
 border-radius: var(--n-scrollbar-border-radius);
 right: 0;
 `)])]),Q("vertical",`
 right: 4px;
 top: 2px;
 bottom: 2px;
 width: var(--n-scrollbar-width);
 `,[h(">",[k("scrollbar",`
 width: var(--n-scrollbar-width);
 border-radius: var(--n-scrollbar-border-radius);
 bottom: 0;
 `)])]),Q("disabled",[h(">",[k("scrollbar",{pointerEvents:"none"})])]),h(">",[k("scrollbar",`
 position: absolute;
 cursor: pointer;
 pointer-events: all;
 background-color: var(--n-scrollbar-color);
 transition: background-color .2s var(--n-scrollbar-bezier);
 `,[ot(),h("&:hover",{backgroundColor:"var(--n-scrollbar-color-hover)"})])])])])]),it=Object.assign(Object.assign({},we.props),{size:{type:Number,default:5},duration:{type:Number,default:0},scrollable:{type:Boolean,default:!0},xScrollable:Boolean,trigger:{type:String,default:"hover"},useUnifiedContainer:Boolean,triggerDisplayManually:Boolean,container:Function,content:Function,containerClass:String,containerStyle:[String,Object],contentClass:String,contentStyle:[String,Object],horizontalRailStyle:[String,Object],verticalRailStyle:[String,Object],onScroll:Function,onWheel:Function,onResize:Function,internalOnUpdateScrollLeft:Function,internalHoistYRail:Boolean}),ge=me({name:"Scrollbar",props:it,inheritAttrs:!1,setup(l){const{mergedClsPrefixRef:a,inlineThemeDisabled:s,mergedRtlRef:z}=Ve(l),r=et("Scrollbar",z,a),H=u(null),p=u(null),L=u(null),x=u(null),B=u(null),w=u(null),g=u(null),M=u(null),P=u(null),E=u(null),I=u(null),$=u(0),Y=u(0),j=u(!1),U=u(!1);let F=!1,N=!1,b,m,Z=0,ee=0,V=0,te=0;const Se=nt(),A=d(()=>{const{value:e}=M,{value:t}=w,{value:n}=E;return e===null||t===null||n===null?0:Math.min(e,n*e/t+l.size*1.5)}),Re=d(()=>`${A.value}px`),G=d(()=>{const{value:e}=P,{value:t}=g,{value:n}=I;return e===null||t===null||n===null?0:n*e/t+l.size*1.5}),pe=d(()=>`${G.value}px`),xe=d(()=>{const{value:e}=M,{value:t}=$,{value:n}=w,{value:o}=E;if(e===null||n===null||o===null)return 0;{const c=n-e;return c?t/c*(o-A.value):0}}),Be=d(()=>`${xe.value}px`),ye=d(()=>{const{value:e}=P,{value:t}=Y,{value:n}=g,{value:o}=I;if(e===null||n===null||o===null)return 0;{const c=n-e;return c?t/c*(o-G.value):0}}),Te=d(()=>`${ye.value}px`),ne=d(()=>{const{value:e}=M,{value:t}=w;return e!==null&&t!==null&&t>e}),le=d(()=>{const{value:e}=P,{value:t}=g;return e!==null&&t!==null&&t>e}),ze=d(()=>{const{trigger:e}=l;return e==="none"||j.value}),Me=d(()=>{const{trigger:e}=l;return e==="none"||U.value}),y=d(()=>{const{container:e}=l;return e?e():p.value}),Pe=d(()=>{const{content:e}=l;return e?e():L.value}),oe=lt(()=>{l.container||re({top:$.value,left:Y.value})}),$e=()=>{oe.isDeactivated||T()},We=e=>{if(oe.isDeactivated)return;const{onResize:t}=l;t&&t(e),T()},re=(e,t)=>{if(!l.scrollable)return;if(typeof e=="number"){W(t!=null?t:0,e,0,!1,"auto");return}const{left:n,top:o,index:c,elSize:f,position:S,behavior:i,el:R,debounce:D=!0}=e;(n!==void 0||o!==void 0)&&W(n!=null?n:0,o!=null?o:0,0,!1,i),R!==void 0?W(0,R.offsetTop,R.offsetHeight,D,i):c!==void 0&&f!==void 0?W(0,c*f,f,D,i):S==="bottom"?W(0,Number.MAX_SAFE_INTEGER,0,!1,i):S==="top"&&W(0,0,0,!1,i)},Ce=(e,t)=>{if(!l.scrollable)return;const{value:n}=y;!n||(typeof e=="object"?n.scrollBy(e):n.scrollBy(e,t||0))};function W(e,t,n,o,c){const{value:f}=y;if(!!f){if(o){const{scrollTop:S,offsetHeight:i}=f;if(t>S){t+n<=S+i||f.scrollTo({left:e,top:t+n-i,behavior:c});return}}f.scrollTo({left:e,top:t,behavior:c})}}function Xe(){De(),Ee(),T()}function He(){K()}function K(){Le(),Ye()}function Le(){m!==void 0&&window.clearTimeout(m),m=window.setTimeout(()=>{U.value=!1},l.duration)}function Ye(){b!==void 0&&window.clearTimeout(b),b=window.setTimeout(()=>{j.value=!1},l.duration)}function De(){b!==void 0&&window.clearTimeout(b),j.value=!0}function Ee(){m!==void 0&&window.clearTimeout(m),U.value=!0}function Ie(e){const{onScroll:t}=l;t&&t(e),ie()}function ie(){const{value:e}=y;e&&($.value=e.scrollTop,Y.value=e.scrollLeft*(r!=null&&r.value?-1:1))}function Oe(){const{value:e}=Pe;e&&(w.value=e.offsetHeight,g.value=e.offsetWidth);const{value:t}=y;t&&(M.value=t.offsetHeight,P.value=t.offsetWidth);const{value:n}=B,{value:o}=x;n&&(I.value=n.offsetWidth),o&&(E.value=o.offsetHeight)}function ae(){const{value:e}=y;e&&($.value=e.scrollTop,Y.value=e.scrollLeft*(r!=null&&r.value?-1:1),M.value=e.offsetHeight,P.value=e.offsetWidth,w.value=e.scrollHeight,g.value=e.scrollWidth);const{value:t}=B,{value:n}=x;t&&(I.value=t.offsetWidth),n&&(E.value=n.offsetHeight)}function T(){!l.scrollable||(l.useUnifiedContainer?ae():(Oe(),ie()))}function se(e){var t;return!(!((t=H.value)===null||t===void 0)&&t.contains(e.target))}function ke(e){e.preventDefault(),e.stopPropagation(),N=!0,_("mousemove",window,ce,!0),_("mouseup",window,ue,!0),ee=Y.value,V=r!=null&&r.value?window.innerWidth-e.clientX:e.clientX}function ce(e){if(!N)return;b!==void 0&&window.clearTimeout(b),m!==void 0&&window.clearTimeout(m);const{value:t}=P,{value:n}=g,{value:o}=G;if(t===null||n===null)return;const f=(r!=null&&r.value?window.innerWidth-e.clientX-V:e.clientX-V)*(n-t)/(t-o),S=n-t;let i=ee+f;i=Math.min(S,i),i=Math.max(i,0);const{value:R}=y;if(R){R.scrollLeft=i*(r!=null&&r.value?-1:1);const{internalOnUpdateScrollLeft:D}=l;D&&D(i)}}function ue(e){e.preventDefault(),e.stopPropagation(),X("mousemove",window,ce,!0),X("mouseup",window,ue,!0),N=!1,T(),se(e)&&K()}function _e(e){e.preventDefault(),e.stopPropagation(),F=!0,_("mousemove",window,q,!0),_("mouseup",window,J,!0),Z=$.value,te=e.clientY}function q(e){if(!F)return;b!==void 0&&window.clearTimeout(b),m!==void 0&&window.clearTimeout(m);const{value:t}=M,{value:n}=w,{value:o}=A;if(t===null||n===null)return;const f=(e.clientY-te)*(n-t)/(t-o),S=n-t;let i=Z+f;i=Math.min(S,i),i=Math.max(i,0);const{value:R}=y;R&&(R.scrollTop=i)}function J(e){e.preventDefault(),e.stopPropagation(),X("mousemove",window,q,!0),X("mouseup",window,J,!0),F=!1,T(),se(e)&&K()}Ae(()=>{const{value:e}=le,{value:t}=ne,{value:n}=a,{value:o}=B,{value:c}=x;o&&(e?o.classList.remove(`${n}-scrollbar-rail--disabled`):o.classList.add(`${n}-scrollbar-rail--disabled`)),c&&(t?c.classList.remove(`${n}-scrollbar-rail--disabled`):c.classList.add(`${n}-scrollbar-rail--disabled`))}),Ge(()=>{l.container||T()}),Ke(()=>{b!==void 0&&window.clearTimeout(b),m!==void 0&&window.clearTimeout(m),X("mousemove",window,q,!0),X("mouseup",window,J,!0)});const je=we("Scrollbar","-scrollbar",rt,qe,l,a),de=d(()=>{const{common:{cubicBezierEaseInOut:e,scrollbarBorderRadius:t,scrollbarHeight:n,scrollbarWidth:o},self:{color:c,colorHover:f}}=je.value;return{"--n-scrollbar-bezier":e,"--n-scrollbar-color":c,"--n-scrollbar-color-hover":f,"--n-scrollbar-border-radius":t,"--n-scrollbar-width":o,"--n-scrollbar-height":n}}),C=s?Je("scrollbar",void 0,de,l):void 0;return Object.assign(Object.assign({},{scrollTo:re,scrollBy:Ce,sync:T,syncUnifiedContainer:ae,handleMouseEnterWrapper:Xe,handleMouseLeaveWrapper:He}),{mergedClsPrefix:a,rtlEnabled:r,containerScrollTop:$,wrapperRef:H,containerRef:p,contentRef:L,yRailRef:x,xRailRef:B,needYBar:ne,needXBar:le,yBarSizePx:Re,xBarSizePx:pe,yBarTopPx:Be,xBarLeftPx:Te,isShowXBar:ze,isShowYBar:Me,isIos:Se,handleScroll:Ie,handleContentResize:$e,handleContainerResize:We,handleYScrollMouseDown:_e,handleXScrollMouseDown:ke,cssVars:s?void 0:de,themeClass:C==null?void 0:C.themeClass,onRender:C==null?void 0:C.onRender})},render(){var l;const{$slots:a,mergedClsPrefix:s,triggerDisplayManually:z,rtlEnabled:r,internalHoistYRail:H}=this;if(!this.scrollable)return(l=a.default)===null||l===void 0?void 0:l.call(a);const p=this.trigger==="none",L=()=>v("div",{ref:"yRailRef",class:[`${s}-scrollbar-rail`,`${s}-scrollbar-rail--vertical`],"data-scrollbar-rail":!0,style:this.verticalRailStyle,"aria-hidden":!0},v(p?ve:he,p?null:{name:"fade-in-transition"},{default:()=>this.needYBar&&this.isShowYBar&&!this.isIos?v("div",{class:`${s}-scrollbar-rail__scrollbar`,style:{height:this.yBarSizePx,top:this.yBarTopPx},onMousedown:this.handleYScrollMouseDown}):null})),x=()=>{var w,g;return(w=this.onRender)===null||w===void 0||w.call(this),v("div",Ze(this.$attrs,{role:"none",ref:"wrapperRef",class:[`${s}-scrollbar`,this.themeClass,r&&`${s}-scrollbar--rtl`],style:this.cssVars,onMouseenter:z?void 0:this.handleMouseEnterWrapper,onMouseleave:z?void 0:this.handleMouseLeaveWrapper}),[this.container?(g=a.default)===null||g===void 0?void 0:g.call(a):v("div",{role:"none",ref:"containerRef",class:[`${s}-scrollbar-container`,this.containerClass],style:this.containerStyle,onScroll:this.handleScroll,onWheel:this.onWheel},v(fe,{onResize:this.handleContentResize},{default:()=>v("div",{ref:"contentRef",role:"none",style:[{width:this.xScrollable?"fit-content":null},this.contentStyle],class:[`${s}-scrollbar-content`,this.contentClass]},a)})),H?null:L(),this.xScrollable&&v("div",{ref:"xRailRef",class:[`${s}-scrollbar-rail`,`${s}-scrollbar-rail--horizontal`],style:this.horizontalRailStyle,"data-scrollbar-rail":!0,"aria-hidden":!0},v(p?ve:he,p?null:{name:"fade-in-transition"},{default:()=>this.needXBar&&this.isShowXBar&&!this.isIos?v("div",{class:`${s}-scrollbar-rail__scrollbar`,style:{width:this.xBarSizePx,right:r?this.xBarLeftPx:void 0,left:r?void 0:this.xBarLeftPx},onMousedown:this.handleXScrollMouseDown}):null}))])},B=this.container?x():v(fe,{onResize:this.handleContainerResize},{default:x});return H?v(Qe,null,B,L()):B}}),ft=ge,ht=ge;export{ft as N,ve as W,ht as X,ot as f,dt as k};
