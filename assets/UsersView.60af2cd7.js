import{_ as k,W as N,r as U,e as C,F as l,G as p,H as t,I as a,J as u,K as d,bc as f,Z as m,$ as B,X as h,M as A,N as D,a0 as v,a1 as E,O as F}from"./index.a4bf9dbc.js";import{_ as M}from"./Space.5aa997e5.js";import{_ as $}from"./Pagination.5e1a22ac.js";import{_ as z,a as G}from"./Table.38da03e3.js";import{_ as H}from"./Button.0b8cb313.js";import"./use-rtl.009dd84c.js";import"./Input.af951eea.js";import"./Scrollbar.3ef19cc2.js";import"./toString.60bc3c9a.js";import"./delegate.d660cb22.js";import"./FadeInExpandTransition.7910d938.js";import"./Popover.8bd9bb8a.js";import"./keep.76d496a2.js";import"./Tag.a0eed87c.js";import"./upperFirst.e253bbc7.js";const x=r=>(A("data-v-793bde5f"),r=r(),D(),r),J=x(()=>t("h1",null,"\u6703\u54E1\u7BA1\u7406",-1)),K={class:"container"},L={class:"usersbox"},O=x(()=>t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"\u4F7F\u7528\u8005"),t("th",null,"\u522A\u9664")])],-1)),P=F("\u522A\u9664"),T={__name:"UsersView",setup(r){const n=N([]),c=U(1),_=5,g=C(()=>n.slice(c.value*_-_,c.value*_)),y=async(e,i)=>{try{await f.delete("/users/"+e),m.fire({icon:"success",title:"\u6210\u529F",text:"\u522A\u9664\u6210\u529F"}),n.splice(i,1)}catch(s){m.fire({icon:"error",title:"\u5931\u6557",text:s.isAxiosError?s.response.data.message:s.message})}};return(async()=>{try{const{data:e}=await f.get("/users/all");n.push(...e.result),console.log(n)}catch(e){console.log(e),m.fire({icon:"error",title:"\u5931\u6557",text:"\u7121\u6CD5\u53D6\u5F97\u6703\u54E1\u8CC7\u6599"})}})(),(e,i)=>{const s=z,b=H,w=G,V=M,I=$;return l(),p(d,null,[J,t("div",K,[t("div",L,[a(s),t("div",null,[a(V,{vertical:""},{default:u(()=>[a(w,{striped:""},{default:u(()=>[O,t("tbody",null,[(l(!0),p(d,null,B(h(g),(o,S)=>(l(),p(d,null,[h(g).length>0?(l(),p("tr",{key:o._id},[t("td",null,v(o._id),1),t("td",null,v(o.account),1),t("td",null,[a(b,{type:"error",onClick:X=>y(o._id,S)},{default:u(()=>[P]),_:2},1032,["onClick"])])])):E("",!0)],64))),256))])]),_:1})]),_:1})]),a(I,{page:c.value,"onUpdate:page":i[0]||(i[0]=o=>c.value=o),"page-count":Math.ceil(n.length/_)},null,8,["page","page-count"])])])],64)}}},it=k(T,[["__scopeId","data-v-793bde5f"]]);export{it as default};
