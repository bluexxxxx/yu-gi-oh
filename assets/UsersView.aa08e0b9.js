import{_ as U,X as B,r as $,e as A,F as s,G as a,H as e,I as r,J as u,K as d,bd as k,$ as m,a0 as D,Y as w,N as E,O as F,a1 as x,a2 as g,P as V}from"./index.7d7728d0.js";import{_ as P}from"./Space.42742c69.js";import{_ as z}from"./Pagination.e19f716c.js";import{_ as G,a as H}from"./Table.82eb64b6.js";import{_ as J}from"./Button.75a70b64.js";import"./use-rtl.8a9a2184.js";import"./Input.0fb0847b.js";import"./Scrollbar.537acb0d.js";import"./toString.9508659a.js";import"./delegate.d660cb22.js";import"./FadeInExpandTransition.2ca4df3a.js";import"./Popover.7447dd31.js";import"./keep.76d496a2.js";import"./Tag.26cdd6d1.js";import"./upperFirst.8f13d154.js";const C=c=>(E("data-v-7ff40e7c"),c=c(),F(),c),K=C(()=>e("h1",null,"\u6703\u54E1\u7BA1\u7406",-1)),L={class:"container"},M={class:"usersbox"},O=C(()=>e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"\u4F7F\u7528\u8005"),e("th",null,"\u522A\u9664")])],-1)),T={key:0},X=V(" \u522A\u9664 "),Y={key:1},j=V(" \u522A\u9664 "),q={__name:"UsersView",setup(c){const i=B([]),o=$(1),l=5,f=A(()=>i.slice(o.value*l-l,o.value*l)),h=async(t,p)=>{try{await k.delete("/users/"+t),m.fire({icon:"success",title:"\u6210\u529F",text:"\u522A\u9664\u6210\u529F"}),i.splice(p,1)}catch(_){m.fire({icon:"error",title:"\u5931\u6557",text:_.isAxiosError?_.response.data.message:_.message})}};return(async()=>{try{const{data:t}=await k.get("/users/all");i.push(...t.result),console.log(i)}catch(t){console.log(t),m.fire({icon:"error",title:"\u5931\u6557",text:"\u7121\u6CD5\u53D6\u5F97\u6703\u54E1\u8CC7\u6599"})}})(),(t,p)=>{const _=G,v=J,I=H,S=P,b=z;return s(),a(d,null,[K,e("div",L,[e("div",M,[r(_),e("div",null,[r(S,{vertical:""},{default:u(()=>[r(I,{striped:""},{default:u(()=>[O,e("tbody",null,[(s(!0),a(d,null,D(w(f),(n,y)=>(s(),a(d,null,[w(f).length>0?(s(),a("tr",{key:n._id},[e("td",null,x(n._id),1),e("td",null,x(n.account),1),o.value===1?(s(),a("td",T,[r(v,{type:"error",onClick:N=>h(n._id,y),loading:t.loading},{default:u(()=>[X]),_:2},1032,["onClick","loading"])])):g("",!0),o.value>1?(s(),a("td",Y,[r(v,{type:"error",onClick:N=>h(n._id,y+(o.value-1)*l),loading:t.loading},{default:u(()=>[j]),_:2},1032,["onClick","loading"])])):g("",!0)])):g("",!0)],64))),256))])]),_:1})]),_:1})]),r(b,{page:o.value,"onUpdate:page":p[0]||(p[0]=n=>o.value=n),"page-count":Math.ceil(i.length/l)},null,8,["page","page-count"])])])],64)}}},ue=U(q,[["__scopeId","data-v-7ff40e7c"]]);export{ue as default};
